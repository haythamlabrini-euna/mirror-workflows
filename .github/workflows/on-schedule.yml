name: On Schedule

on:
  schedule:
    - cron: "0 2 * * *"   # Daily at 02:00 UTC
  workflow_dispatch:

permissions:
  contents: read

concurrency:
  group: scheduled-tasks
  cancel-in-progress: true

jobs:
  scheduled-task:
    runs-on: ubuntu-latest
    timeout-minutes: 15  # Avoid hung schedules

    steps:
      - name: Scheduled task job summary
        run: |
          if [ "${{ github.event_name }}" = "schedule" ]; then
            echo "ðŸ•’ Scheduled Task - Echo Only Mode"
            echo "Triggered by: Scheduled run (cron: 0 2 * * *)"
          else
            echo "ðŸ•’ Scheduled Task - Echo Only Mode"
            echo "Triggered by: Manual workflow dispatch"
          fi
          echo "Repository: ${{ github.repository }}"
          echo "Run: https://github.com/${{ github.repository }}/actions/runs/${{ github.run_id }}"
          echo "Timestamp (UTC): $(date -u +"%Y-%m-%d %H:%M:%S")"
          echo "âœ… Scheduled task completed successfully (simulated)"
